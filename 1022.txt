
 RAID ( Redundant Array of Independent Disks,
             독립 디스크의 이중화 집합/배열 )
 - 여러 개의 하드 디스크를 하나의 디스크로 결합하여
   데이터를 저장하고 관리하는 기술

 - 데이터의 안정성과 성능을 향상시키기 위해 사용

 - RAID 구성 방식에 따라서 성능과 용량이 바뀐다

 
 * RAID Level
 Linear RAID - 선형 레이드

 RAID 0 - Striping

 RAID 1 - Mirroring

 RAID 2 - 현재 사용 X

 RAID 3 - 패리티 비트, 현재 사용 X

 RAID 4 - 패리티 블럭, 현재 사용 X

 RAID 5 - Striping With Parity, 패리티를 사용한 스트라이핑

 RAID 6 - Striping With Dual Parity, 이중 패리티를 사용한 스트라이핑


 1) Linear RAID, 선형 RAID
 - 최소 2개 이상의 디스크를 필요로 한다

 - 데이터가 순차적으로 여러 디스크에 분산되어 저장된다
   ( 데이터가 선형으로 저장된다 )

 - 여러 개의 디스크가 하나의 볼륨으로 결합되어 사용된다

 - 한 개의 디스크만 고장나도 모든 디스크를 사용할 수 없다


	DISK1	DISK2
	1	6
	2	7
	3	8
	4	...
	5


 2) RAID 0
 - 최소 2개 이상의 디스크를 필요로 한다

 - 데이터를 블록으로 쪼개어 각각 다른 디스크에 나누어 저장한다

 - 데이터가 병렬로 저장되어 성능이 뛰어나다

 - 한 개의 디스크만 고장나도 모든 디스크를 사용할 수 없다


	DISK1	DISK2
	1	2
	3	4
	5	6
	7	8
	..

 3) RAID 1
 - 최소 2개의 디스크 사용

 - 모든 데이터가 중복되어 저장된다

 - 디스크 전체 용량의 절반밖에 사용하지 못한다
  ex) DISK1 (10G)  +  DISK2 (10G)   =   10G

 - 디스크 하나가 고장나도 중복되어 저장된 디스크가 하나 더 있어 매우 안전하다

	DISK1	DISK2
	1	1
	2	2
	3	3
	4	4
	...	...


 4) RAID 4
 - 최소 3개의 디스크를 사용

 - 데이터를 블록으로 쪼개어 각각 다른 디스크에 저장한다

 - 디스크에 오류가 발생하면 패리티를 사용하여 복구 할 수 있다

 - 디스크 하나를 패리티 디스크로 사용한다

 - 패리티 디스크의 수명이 짧아져 RAID5 방식이 더 선호된다


	DISK1	DISK2	DISK3(Parity)
	1	2	P
	3	4	P
	5	6	P
	7	8	P

	DISK1	DISK2	DISK3(Parity)
	1      +	2      =	3
	3      +	4      =	7
	5      +	6      =	11
	7      +	8      =	15

	DISK1	DISK2	DISK3(Parity)
	1      +	?      =	3
	3      +	?      =	7
	5      +	?      =	11
	7      +	?      =	15


 5) RAID 5
 - 최소 3개의 디스크를 사용

 - 데이터를 블록으로 쪼개어 각각 다른 디스크에 저장한다

 - 디스크에 오류가 발생하면 패리티를 사용하여 복구 할 수 있다

 - RAID 4 의 단점을 개선한 방식
   매번 다른 디스크에 패리티를 저장한다

	DISK1	DISK2	DISK3
	1	2	P
	3	P	4
	P	5	6
	7	8	P
	...

 * 짝수 패리티, 홀수 패리티
 짝수 패리티 : 데이터 비트들의 합이 짝수가 되도록 하는 방법
 홀수 패리티 : 데이터 비트들의 합이 홀수가 되도록 하는 방법


	DISK1	DISK2	DISK3	짝수 P	홀수 P
	1	0	P	1	0
	1	1	P	0	1
	0	0	P	0	1
	0	1	P	1	0


 6) RAID 6
 - 최소 4개의 디스크를 사용
 
 - 패리티를 두 개 사용한다

 - 공간 효율은 저하되나 안정성은 더 올라간다
  ( 디스크가 2개 고장나도 복구 가능 )

 - 패리티를 두 개 생성하는 만큼 알고리즘에 복잡해
   쓰기 성능은 떨어진다



   linear	2
   0	2
   1	2
   5	3

-----------------------------------
 mdadm 명령어
 - 리눅스에서 RAID 를 관리하기 위한 명령어
 
# mdadm --create /dev/md10 --level=linear --raid-devices=2 /dev/sdb1 /dev/sdc1

